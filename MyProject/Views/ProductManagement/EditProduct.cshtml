@model MyProject.Models.ViewModels.EditProductViewModel
@using System.Collections
@using MyProject.Helper;
@using MyProject.Models.ShoppingCart

@{
    ViewBag.Title = "Edit Product";
}

<body>
    <section id="ProductForm">
        @using (Html.BeginForm("EditProduct", "ProductManagement", FormMethod.Post, new { @class = "form-horizontal", role = "form", enctype = "multipart/form-data" }))
        {
            @Html.AntiForgeryToken()
            <hr />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })

            <div class="row">
                <hr>
                <div class="large-5 columns">
                    @{
                        if (Model.ProductView.Image != null)
                        {
                            var base64 = Convert.ToBase64String(@Model.ProductView.Image);
                            var imgSrc = String.Format("data:image/gif;base64,{0}", base64);
                            <img alt="@Model.ProductView.Description" src="@imgSrc" height="400" width="400"/>
                        }
                        else
                        {
                            <img src="~/Content/Images/ProductDefault.png" height="400" width="400"/>
                        }}
                    <div class="form-group">
                        @*                        @Html.LabelFor(m => m.UserProfilePicture, new {@class = "col-md-2 control-label"})*@
                        <div class="col-md-10">
                            @Html.TextBoxFor(m => m.ProductView.ProductImage, new { type = "file" })
                            @Html.ValidationMessage("CustomMessage")
                        </div>
                    </div>
                </div>


                <div class="large-5 columns">
                    <div class="form-group">
                        @Html.LabelFor(m => m.ProductView.Code, new { @class = "col-md-2 control-label" })
                        <div class="col-md-10">
                            @Html.TextBoxFor(m => m.ProductView.Code, new { @class = "fill" })
                            @Html.ValidationMessageFor(m => m.ProductView.Code, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(m => m.ProductView.Description, new { @class = "col-md-2 control-label" })
                        <div class="col-md-10">
                            @Html.TextBoxFor(m => m.ProductView.Description)
                            @Html.ValidationMessageFor(m => m.ProductView.Description, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(m => m.ProductView.DetailDescription, new { @class = "col-md-2 control-label" })
                        <div class="col-md-10">
                            @Html.TextBoxFor(m => m.ProductView.DetailDescription, new { id = "detailDescriptionTextBox", Value = Model.ProductView.DetailDescription, @class = "fill" })
                            @Html.ValidationMessageFor(m => m.ProductView.DetailDescription, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="panel">
                        <h5><b><em>Pricing: </em></b></h5>

                        @for (int i = 0 ; i < Model.Offers.Count; i++)
                        {
                            var priceType = (Model.Offers[i].PriceTypeId == 1) ? "Retail" : "Whole Sale";
                            <div class="form-group">
                                <h6>@priceType</h6>
                                <div class="col-md-10">
                                    @Html.EditorFor(m => m.Offers[i].Price)
                                    @Html.HiddenFor(m => m.Offers[i].Price)
                                    @Html.HiddenFor(m => m.Offers[i].PriceTypeId)
@*                                    @Html.ValidationMessageFor(m => Model.Offers[i].Price, "", new { @class = "text-danger" })*@
                                </div>
                            </div>
                        }
                        @*                <h5><b><em>Giá tiền: </em> @Model.Price.ToString("N0") đ</b></h5>
                <h6 class="subheader">Cước vận chuyển:   50.00 đ (ước lượng)</h6>
                 <p class="button">
                    @Html.ActionLink("Thêm vào giỏ hàng", "ContinueToCart", "Store", new {id = @Model.Id}, new {@style="color: #FFFFFF"})
                </p>*@
                    </div>

                    <div>
                        <input type="submit" class="medium success button" value="Save" />
                    </div>
                </div>
            </div>
            <div class="row">
                <hr />
                <div class="large-6 columns">
                    <h4>This is a content section.</h4>
                    <p>Bacon ipsum dolor sit amet nulla ham qui sint exercitation eiusmod commodo, chuck duis velit. Aute in reprehenderit, dolore aliqua non est magna in labore pig pork biltong. Eiusmod swine spare ribs reprehenderit culpa. Boudin aliqua adipisicing rump corned beef.</p>
                </div>
                <div class="large-6 columns">
                    <h4>This is a content section.</h4>
                    <p>Pork drumstick turkey fugiat. Tri-tip elit turducken pork chop in. Swine short ribs meatball irure bacon nulla pork belly cupidatat meatloaf cow. Nulla corned beef sunt ball tip, qui bresaola enim jowl. Capicola short ribs minim salami nulla nostrud pastrami.</p>
                </div>
            </div>
@*    <div class="row">
        <hr>
        <div class="large-12 columns">
            <h4>You might also like:</h4>
            <img src="http://placehold.it/200x150&text=[img]">
            <img src="http://placehold.it/200x150&text=[img]">
            <img src="http://placehold.it/200x150&text=[img]">
            <img src="http://placehold.it/200x150&text=[img]">
        </div>
    </div>*@
        }
    </section>

</body>

